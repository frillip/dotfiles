#!/bin/sh

if [ $# -eq 0 ]; then
    echo "Open files that contain given matches in \$EDITOR, selected by fzf"
    echo
    rg 2>&1 | sed "s+rg +rgfzf +g"
    exit 1
fi

rg --color=always "$@" | fzf --ansi | cut -d ':' -f 1 | xargs $EDITOR
